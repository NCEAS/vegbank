'$Author: farrell $'
'$Date: 2003-08-22 18:50:28 $'
'$Revision: 1.13 $'
THIS FILE DESCRIBES THE SETUP AND MAINTAINENCE OF A VEGBANK SYSTEM

Vegbank requires
Jakarta-tomcat 4.1, 
PostrgreSQL 7.2, 
Java 1.3
Apache 1.3
Grass

REQUIRED JAR FILES
-----------------
the following jar files are required in the servlet container

vegcommunity.jar
planttaxonomy.jar
jdbc7.0-1.2.jar
utilities.jar
servlet.jar
multipart.jar
frameworkservlet-config.xml
datatranslator.jar
database_access.jar
ant.jar
vegbankquery.jar
usermanagement.jar
stylesheet-generator.jar
frameworkservletmodule.jar
datafile-exchange.jar
authservletmodule.jar
xmlresource.jar
vegclass_common.jar
vegbank_datamodel.jar

and all the third party jars in the vegbank/lib directory.

OTHER REQUIRED SERVLET FILES
----------------------------
/vegbank/veg_plot/src/utilities/coord_transform.sh
All the files in the /vegbank/veg_plot/exp/vegbank_websrc/web/WEB-INF/

PROPERTIES FILES:
----------------
./veg_plot/build.properties - edit for your environment. 



DATABASE SETUP:
---------------

Vegclass has three separate database parts for Plots, Plant Taxonomy and Plant 
Community. There is also a Framework database for shared resources like users.


Initializing PostgresSQL:

Install PostgresSQL on the system ... 

# Associate a file with the database ( e.g /home/username/pgdata )
initdb databasefile

# Start database ( with debuging output )
postmaster -d2 -i -D databasefile 

# Create the database user 'datauser' as follows:
> createuser  datauser


# Build the databases
Some of the sql is auto generated using an ant task.
In the vegclass directory run:
> ant db_rebuild_vegbank

There are finer grained tasks also see ant -projecthelp

# Create framework database
> psql framework < ./veg_plot/sql/create_veguser_tables.sql
> psql framework < ./veg_plot/sql/create_file_accesssion_tables.sql

# Denormalization of the databases
> psql vegbank < veg_plot/sql/makePlotSummaryTables_postgres.sql
> psql vegbank < veg_community/sql/createCommunitySummary_pg.sql  
> psql vegbank < veg_community/sql/createEcoartTables_pg.sql   
> psql vegbank < veg_taxa/sql/denormPlantTaxonDb_pg.sql

# Edit the pg_hba.conf file so that connections may be made to the database 
# add the following:
local      all                                               trust
host       all  127.0.0.1                 255.255.255.255    trust
#host       all  ip of RMI server etc.    255.255.255.255    trust

# GRASS GIS SETUP

This is open source program that is used by vegbank to work with geographic
position data.

Right now it is only used for geocoordinate coversion, it is a large dependancy
just for that.

The programs homepage is "http://www3.baylor.edu/grass/"

EOF 
