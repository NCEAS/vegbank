<html>
 <!-- 
  *   '$RCSfile: nested-plot-query.html,v $'
  *     Purpose: web page describing eml
  *   Copyright: 2000 Regents of the University of California and the
  *               National Center for Ecological Analysis and Synthesis
  *     Authors: @author@
  *    '$Author: farrell $'
  *      '$Date: 2003-05-01 18:33:15 $'
  *  '$Revision: 1.14 $'
  *
  *
  -->
<head>
  <meta name="generator" content="HTML Tidy, see www.w3.org">
  <title>
   Plots Database Database Query Extension
  </title>
  <link rel="STYLESHEET" href=
  "/vegbank/includes/default.css" type="text/css">
 </head>
 
 
 <body>
 
 
@vegbank_header_html_normal@
		
		
  <!-- cool blue horizontal bar bar -->
	<table border="0" width="80%" cellpadding="0" cellspacing="0">
    <tr bgcolor="white">
     <td >
      <img align="Center" border="0" height="70" src=
      "/vegbank/images/owlogoBev.jpg"
       alt="Vegetation plots logo"> 
     </td>
		 <td>
		 <h1 ALIGN="LEFT" CLASS="mono">Extended Plot Query</h1>
		 </td>
    </tr>
  </table>
 
 <br>
 
 <!-- PARTY DATA TABLE WITH DESCRIPTIONS-->
<table border="0" width="80%" bgcolor="#DFE5FA">
	<tr>
		<td  align=left valign=top  width="5%" >
			<font face="Helvetica,Arial,Verdana" size="3" color="23238E">
			<b>Queries:</b>
		</font></td>
		
	</tr>
	
	<tr>
		<td align="center" width="5%">
			<img src="/vegbank/images/icon_cat31.gif" alt="exclamation" width="15" height="15" >
		</td>
		<td class="item">
			Using the query mechanism below one can build a nested query to query Plots <br> 
			stored in VegBank. If, for example, you were looking to do an analysis on the <br>
			growth of Pine trees in the High Sierra Nevada, you might develop a query like: <br>
			<br>
			<!-- THIS TABLE HAS AN EXAMPLE OF A QUERY THAT MAY BE ISSUED -->
			<table border="0" class="itemsmall" >
			<tr bgcolor="grey">
				<td> Criteria </td>
				<td> Operator </td>
				<td> Value </td>
			</tr>
			<tr>
				<td> Plant Taxon </td>
				<td> is equal to </td>
				<td> %Pinus% </td>
			</tr>
			<tr>
				<td> State </td>
				<td> is equal to </td>
				<td> CA </td>
			</tr>
			<tr>
				<td> Elevation </td>
				<td> is greater than </td>
				<td> 10000 </td>
			</tr>
			</table>
			
			<br>
			This query would require the user select the 'Add To Existing Nested Query' <br>
			three separate times, before selecting the 'Submit the Query to VegBank' <br>
			The result set will include all those plots with plants of the Pinus Genus <br>
			in California from an elvation over 10,000 feet <br>
			<br>
			<a href="/vegbank/forms/hints.html#general"> <font color="red"> HINTS </font> </a>
			<br>
			<a href="/vegbank/forms/hints.html#commonqueries"> <font color="red"> Recent Queries </font> </a>
		</td>
	</tr>
</table>


&nbsp;
&nbsp;

 
 <form action="@nestedquerybuilder@" method="get">
		 <input type="hidden" name="requestDataType" value="vegPlot">
     <input value="summary" name="resultType" type="hidden">
     <input value="html" name="requestDataFormatType" type="hidden"> 
		 <input value="browser" name="clientType" type="hidden">  
		 
		 
 <table width="80%" class="item">
 	<!-- table col names -->
	<tr bgcolor="#9999ff" >
		<td class="category"> query criteria 
			<a href="/vegbank/forms/hints.html#querycriteria"> 
			<img src="/vegbank/images/question.gif"> 
			</a> 
		</td>
		<td class="category"> query operator 
			<a href="/vegbank/forms/hints.html#queryoperator"> 
			<img src="/vegbank/images/question.gif"> 
			</a> 
		</td>
		<td class="category"> query value 
			<a href="/vegbank/forms/hints.html#queryvalue"> 
			<img src="/vegbank/images/question.gif"> 
			</a> 
		</td>
	</tr>
	
	<tr >
	<!-- list of criteria -->
		<td>
		<select class="item" name="criteria"  size="5">
      <option value="plantTaxon">Plant Taxon</option>
			<option value="state">State</option>
      <option value="elevation">Elevation</option>
			<option value="plotoriginlat">Latitude</option>
      <option value="plotoriginlong">Longitude</option>
			<option value="authorPlotCode">Plot code</option>
      <option value="surfGeo">Geology</option>
      <option value="plotShape">Plot shape</option>
      <option value="slopeGradient">Slope gradient</option>
      <option value="slopePosition">Slope position</option>    
		  <option value="slopeAspect">Slope aspect</option>
		  <option value="currentCommunity">Veg Community</option>
		  <option value="currentCommunityCode">Veg Community Code</option>

          </select>
		</td>
		
		<!-- list of operators -->
		<td>  
			<select class="item" name="operator"  size="5">
           <option value="eq">is equal to</option>
					 <option value="like">like</option>
           <option value="contains">contains</option>
           <option value="gt">is greater than</option>
           <option value="lt">is less than</option>
					 <!--
           <option value="beginsWith">begins with</option>
           <option value="endsWith">ends with</option>
					 -->
          </select>
		</td>
		<!-- text field for the query value -->
		<td>
			<input size="33" name="value"> <br/>
			<font class="itemsmall" color="red"><b>Use 
                  % for the wildcard.</b></font>
		</td>
	</tr>
 </table>
   
	  
	 <!-- table to hold the append / submit options-->
	<table  class="category" width="45%">
		<tr>
			<td> 
        <input type="radio" class="category" name="queryParameterType" 
			value="append" checked>
         Add to Existing Nested Query 
			</td>
		</tr>
		
		<tr>
			<td> <input type="radio" class="category" name="queryParameterType" 
			value="commit"> Submit The Query to VegBank
			</td>
			
		</tr>
	</table>
	
	
	 <!-- table to hold the buttons-->
	<table  class="category" width="25%">
		<tr>
			<td> <input type="submit" class="item" value="GO!"> </td>
			<td> <input type="reset" class="item" value="RESET"> </td>
		</tr>
	</table>
 
 <br>
 
 <!-- here are the results -->
 <table  width="66%">
		<tr>
			<td class="category"> Current Query </td>
		</tr>
		<tr>
			<td>
			<textarea rows="6" cols="65">
                     @replaceAggregateQuery@
      </textarea>
			</td>
		</tr>
	</table>
 
 <!-- NEW QUERY FORM-->
 <a href="/vegbank/forms/nested-plot-query.html"> Try a New Query </a>
 
 </form>

@vegbank_footer_html_tworow@

 </body>
</html>


