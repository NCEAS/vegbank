<?xml version="1.0"?>
<!-- 
  * build.xml
	*  '$RCSfile: build.xml,v $'
  *    Authors: @authors@
  *    Release: @release@
  *
  * '$Author: harris $'
  * '$Date: 2002-02-26 18:56:31 $'
  * '$Revision: 1.9 $'
  *
  *	Authors: John Harris
  *	Copyright: 2002 Regents of the University of California and the
  *							National Center for Ecological Analysis and Synthesis
  *  Build file for the Ant cross-platform build system for bulding the 
	*	 web content for vegbank.org
	*
  *  See http://jakarta.apache.org for details on Ant  
  *  
  * usage: ant forms, images
--> 
<project name="vegbank_web" default="init" basedir=".">

<target name="init">
	<tstamp/>
	<!-- LET THE USER KNOW THE TARGETS -->
	<echo>
	Targets:  {init} includes, news, panel, history, pubs, forms, general, design,
	dictionary
	</echo>
	<!-- 
		* Below are the basic propoerties and tokens for
		* building the vegbank web site
	-->
	<property name="forms" value="./forms" />
	<property name="general_src" value="./general" />
	<property name="design_src" value="./design" />
	<property name="dictionary_src" value="./dbdictionary" />
	<property name="news_src" value="./news" />
	<property name="panel_src" value="./panel" />
	<property name="history_src" value="./history" />
	<property name="pubs_src" value="./pubs" />
	<property name="style_src" value="./includes" />
	
	
	<!-- CURRENTLY THESE PARAMETERS ARE SET FOR DISTRIBUT DEVELOPEMENT SERVER	-->
	<property name="forms_server" value="/usr/local/devtools/jakarta-tomcat_dev/webapps/forms"/>
	<property name="general_server" value="/usr/local/devtools/jakarta-tomcat_dev/webapps/vegbank/general/"/>
	<property name="design_server" value="/usr/local/devtools/jakarta-tomcat_dev/webapps/vegbank/design/"/>
	<property name="dictionary_server" value="/usr/local/devtools/jakarta-tomcat_dev/webapps/vegbank/dbdictionary/"/>
	<property name="news_server" value="/usr/local/devtools/jakarta-tomcat_dev/webapps/vegbank/news/"/>
	<property name="panel_server" value="/usr/local/devtools/jakarta-tomcat_dev/webapps/vegbank/panel/"/>
	<property name="history_server" value="/usr/local/devtools/jakarta-tomcat_dev/webapps/vegbank/history/"/>
	<property name="pubs_server" value="/usr/local/devtools/jakarta-tomcat_dev/webapps/vegbank/pubs/"/>
	<property name="style_server" value="/usr/local/devtools/jakarta-tomcat_dev/webapps/vegbank/includes/"/>
	
	<filter token="plotquery_page" value="http://vegbank.nceas.ucsb.edu:8080/forms/plot-query.html"/>
	<filter token="nestedplotquery_page" value="http://vegbank.nceas.ucsb.edu:8080/forms/nested-plot-query.html"/>
	<filter token="uploaddata_page" value="http://vegbank.nceas.ucsb.edu:8080/forms/uploadFile.html"/>
	<filter token="stylesheet_generator" value="http://vegbank.nceas.ucsb.edu:8080/forms/stylesheet-generator.html"/>
	<filter token="general_link" value="http://vegbank.nceas.ucsb.edu:8080/vegbank/general/"/>
	<filter token="panel_link" value="http://vegbank.nceas.ucsb.edu:8080/vegbank/panel/"/>
	<filter token="dist" value="dist"/>
	<filter token="version" value="development"/>
	<filter token="image_server" value="http://vegbank.nceas.ucsb.edu:8080/vegbank/images/"/>
	<filter token="stylesheet" value="http://vegbank.nceas.ucsb.edu:8080/vegbank/includes/default.css"/>
	
	<!-- SERVLETS -->
	<filter token="stylesheet_generator_servlet" value="http://vegbank.nceas.ucsb.edu:8080/framework/servlet/stylesheetgenerator"/>
	<filter token="usermanagement_servlet" value="http://vegbank.nceas.ucsb.edu:8080/framework/servlet/usermanagement"/>
	<filter token="datarequestservlet" value="http://vegbank.nceas.ucsb.edu:8080/framework/servlet/DataRequestServlet" />
	
</target>


<!-- DISTRIBUTES THE INCLUDES (STYLESHHETS, JSCRIPT  ETC..) INTO THE WEBSERVER-->
<target name="includes" depends="init">
        <copy todir="${style_server}" filtering="no" >
                <fileset dir="${style_src}" >    
        </fileset>
        </copy>
</target>



<!--
	* TARGET TO BUILD THE NEWS HTML DOCUMENTATION AND DISTRIBUTE IT TO THE
	* WEB SERVER
-->
<target name="news" depends="init">
	<copy todir="${news_server}" filtering="yes" >
		<fileset dir="${news_src}" >    
  	</fileset>
	</copy>
</target>


<!--
	* TARGET TO BUILD THE NEWS HTML DOCUMENTATION AND DISTRIBUTE IT TO THE
	* WEB SERVER
-->
<target name="panel" depends="init">
	<copy todir="${panel_server}" filtering="yes" >
		<fileset dir="${panel_src}" >
		<exclude name="**.pdf"/>    
  	</fileset>
	</copy>
	
	<copy todir="${panel_server}" filtering="no" >
     		<fileset dir="${panel_src}" >
				<exclude name="**.html"/>    
        </fileset>
  </copy>


</target>


<!--
	* TARGET TO BUILD THE NEWS HTML DOCUMENTATION AND DISTRIBUTE IT TO THE
	* WEB SERVER
-->
<target name="history" depends="init">

	<copy todir="${history_server}" filtering="yes" >
     		<fileset dir="${history_src}" >
				<exclude name="**/**.gif"/>    
        </fileset>
  </copy>
	
	<copy todir="${history_server}" filtering="no" >
     		<fileset dir="${history_src}" >
				<exclude name="**/**.html"/>    
        </fileset>
  </copy>

</target>

<!--
	* TARGET TO BUILD THE NEWS HTML DOCUMENTATION AND DISTRIBUTE IT TO THE
	* WEB SERVER
-->
<target name="pubs" depends="init">
	<copy todir="${pubs_server}" filtering="no" >
		<fileset dir="${pubs_src}" >    
  	</fileset>
	</copy>
</target>



<!-- 
	* TARGET TO PUT THE FORMS FOR INTERACTING WITH THE 
	* SERVLETS IN THE APPROPRIATE LOCATION
-->
<target name="forms" depends="init">
	<copydir src="${forms}" 
		dest="${forms_server}" 
		filtering="yes"
		includes="
			nested-plot-query.html
			resultset-download.html
			plot-query.html
			plant-query.html
			plant-name-lookup.html
			utilities.html
			stylesheet-generator.html
			community-query.html"
		excludes="**/CVS* "
	/>
</target>


<!-- 
	* TARGET TO PUT THE GENERAL HTML DOCS INTO THE CORRECT PLACE
-->
<target name="general" depends="init">
	<copydir src="${general_src}" 
		dest="${general_server}" 
		filtering="yes"
		includes="**.html"
		excludes="**/CVS* "
	/>
</target>



<!-- 
	* TARGET TO PUT THE DESIGN HTML DOCS INTO THE CORRECT PLACE
-->
<target name="design" depends="init">
	<copy todir="${design_server}" filtering="no" >
		<fileset dir="${design_src}" >    
  	</fileset>
	</copy>
</target>


<!-- 
	* TARGET TO PUT THE DICTIONARY HTML DOCS INTO THE CORRECT PLACE
-->
<target name="dictionary" depends="init">
	<copy todir="${dictionary_server}" filtering="no" >
		<fileset dir="${dictionary_src}" >    
  	</fileset>
	</copy>
</target>


</project>
